spring.application.name=reservation
spring.config.activate.on-profile=docker

################################################################################
# Database
################################################################################
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://postgres:5432/reservation}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false

################################################################################
# Liquibase
################################################################################
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml
spring.liquibase.url=${SPRING_LIQUIBASE_URL:jdbc:postgresql://postgres:5432/reservation}
spring.liquibase.user=${SPRING_LIQUIBASE_USER:postgres}
spring.liquibase.password=${SPRING_LIQUIBASE_PASSWORD}
spring.liquibase.enabled=true

################################################################################
# JWT
# NOTE: Never commit a real secret into source. Use env var JWT_SECRET or a secrets manager.
################################################################################
jwt.secret=${JWT_SECRET}
jwt.issuer=${JWT_ISSUER:reservation-application}
jwt.access-token.expiration=${JWT_ACCESS_TOKEN_EXPIRATION:1814400000}

################################################################################
# CORS
################################################################################
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:8080}

################################################################################
# Server
################################################################################
server.port=8080

################################################################################
# Logging
################################################################################
logging.level.com.ali.reservation=INFO
logging.level.org.springframework.security=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.springframework.cache=DEBUG

# Log to file (mounted at /app/logs from docker-compose)
logging.file.name=/app/logs/reservation.log
logging.logback.rollingpolicy.max-file-size=100MB
logging.logback.rollingpolicy.max-history=7

################################################################################
# OpenAPI
################################################################################
springdoc.api-docs.path=${SPRINGDOC_API_DOCS_PATH:/v3/api-docs}
springdoc.swagger-ui.path=${SPRINGDOC_SWAGGER_UI_PATH:/swagger-ui}
